<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <title>SafetyCulture: Work Experience</title>

        <script
            src="https://code.jquery.com/jquery-3.2.1.js"
            integrity="sha256-DZAnKJ/6XZ9si04Hgrsxu/8s717jcIzLy3oi35EouyE="
            crossorigin="anonymous">
        </script>

        <!--Page icon-->
        <link rel='shortcut icon' type='image/x-icon' href='favicon.png' />

        <!-- Compiled and minified CSS -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/css/materialize.min.css">

        <!-- Compiled and minified JavaScript -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/js/materialize.min.js"></script>

        <!--Include background particle JS file-->
        <script src="js/particle/particles.min.js"></script>

        <meta name="viewport" content="width=device-width, initial-scale=1">

        <!--Include the page style-->
        <link rel='stylesheet' href="css/style.css">

        <script>
            var jsonOut = null;
            var canSwitch = true;
            var pageIndex = -1; //Set it to -1 so the 'setPage' function will actually run.

            function setPage(index){
                if(pageIndex == index || !canSwitch){ return; }
                pageIndex = index;

                //Fade out the main div. 
                $('.main').animate({opacity: 0, 'padding-left': '10px'}, 'slow', function(){
                    //Update the text.
                    $('#title').html(jsonOut.sections[index].title);
                    $('#text').html(jsonOut.sections[index].text);

                    //Fade the div back in.
                    $('.main').animate({opacity: 1, 'padding-left': '0px'}, 'slow', function(){ canSwitch = true; });
                })
            }

            //Get the JSON from the 'text.json' file on the server
            $.getJSON( "js/text.json", function( json ){ 
                jsonOut = json;
                setPage(0);
            });

            //Make sure the background resizes with the device.
            window.onresize = function(){
                $('.particles-js-canvas-el').width($(window).width());
                $('.particles-js-canvas-el').height($(window).height());
            }
        </script>
    </head>
    <body bgcolor="#000000">
        <div id='particles-js'></div>
        <script src='js/particle/particle-load.js'></script>

        <header>
            <nav class='z-depth-0 transparent'>
                <div class='nav-wrapper'>
                    <div id='nav-mobile' class='left'>
                        <a href='#'><img class='navlogo' src='img/logo.png'></a>
                    </div>
                    <div class='left navtext' style='padding-top: 3px'>WORK EXPERIENCE</div>
                </div>
            </nav>
        </header>
        <br>
        <div style='margin-top: 25px'>
            <div class='main' style='opacity: 0'>
                <h1 id='title' class='noselect'>Lol</h1>
                <div class='textnav'>
                    <a class='left' onclick='setPage(0)'>WHAT I DID</a>&nbsp|&nbsp
                    <a onclick='setPage(1)'>WHAT I LEARNED</a>&nbsp|&nbsp
                    <a onclick='setPage(2)'>MY PERSONAL EXPERIENCE</a>
                </div>
                <p id='text' class='noselect'>Testing</p>
            </div>
        </div>
    </body>
</html>
